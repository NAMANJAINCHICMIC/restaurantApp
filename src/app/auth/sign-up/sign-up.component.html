<section class="vh-100" style="background-color: #508bfc;">
  <div class="container h-100 mb-0 ">
    <div class="row d-flex justify-content-center align-items-center h-100 mb-0 ">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5">
        <div class="card shadow-2-strong" style="border-radius: 1rem;">
          <div class="card-body p-3 mb-0 text-center">

            <h2 class="text-uppercase text-center mb-2">Create an account</h2>
            <form [formGroup]="registrationForm" class="align-self-center justify-content-center"
              (ngSubmit)="onSubmit()">
              <div class="row-lg-4">
                <div class="card mb-3">
                  <div class="card-body text-center">
                    <img  [src]="picUpladed ? registrationForm.value.pathToProfilePic :'https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp'" alt="avatar"
                      class="rounded-circle img-fluid" style="width: 100px;">
                    <!-- <h5 class="my-3">{{ controlName?.firstName}} {{ controlName?.lastName}}</h5> -->
                    <div>

                      <input hidden type="file" id="imgFile" #imgfile accept="image/png, image/gif, image/jpeg"
                        (change)="imageUpload($event)">
                      <button (click)="imgfile.click()">Profile Pic</button>
                    </div>
                  </div>
                </div>

              </div>
              <div class="form-row align-self-center justify-content-center">
                <div class="col mb-3">
                  <label for="inputFirstname">First Name</label>

                  <input type="text" class="form-control "
                    [ngClass]="{'is-invalid': controlName.firstName.errors && (controlName.firstName.touched || controlName.firstName.dirty), 'is-valid':controlName.firstName.valid}"
                    formControlName="firstName" placeholder="First name">
                  <div *ngIf="controlName.firstName.invalid && showError " class="alert alert-danger">

                    <div *ngIf="controlName.firstName.errors?.['required']">
                      First Name is required.
                    </div>
                    <div *ngIf="controlName.firstName.errors?.['minlength']">
                      First Name must be at least 3 characters long.
                    </div>

                  </div>
                </div>
                <div class="col mb-3">
                  <label for="inputLastname">Last Name</label>
                  <input type="text" class="form-control " formControlName="lastName"
                    [ngClass]="{'is-invalid': controlName.lastName.errors && (controlName.lastName.touched || controlName.lastName.dirty), 'is-valid':controlName.lastName.valid}"
                    placeholder="Last name">
                  <div *ngIf="controlName.lastName.invalid && showError " class="alert alert-danger">

                    <div *ngIf="controlName.lastName.errors?.['required']">
                      Last Name is required.
                    </div>
                    <div *ngIf="controlName.lastName.errors?.['minlength']">
                      Last Name must be at least 3 characters long.
                    </div>

                  </div>
                </div>
              </div>
              <div class="form-row align-self-center justify-content-center">
                <div class="col mb-3">
                  <label for="inputEmail">Email</label>
                  <input type="email" class="form-control col col-12" id="inputEmail"
                    [ngClass]="{'is-invalid': controlName.email.errors && (controlName.email.touched || controlName.email.dirty), 'is-valid':controlName.email.valid}"
                    formControlName="email" placeholder="Email">

                  <div *ngIf="controlName.email.invalid && showError " class="alert alert-danger">

                    Email is required.

                  </div>

                </div>
                <div class="col mb-3">
                  <label for="inputphone">Mobile Number</label>
                  <input type="text" class="form-control col col-12" id="inputphone" formControlName="phone"
                    [ngClass]="{'is-invalid': controlName.phone.errors && (controlName.phone.touched || controlName.phone.dirty), 'is-valid':controlName.phone.valid}"
                    placeholder="Mobile Number" pattern="[0-9]*"
                    oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                  <div *ngIf="controlName.phone.invalid && showError " class="alert alert-danger">
                    <div *ngIf="controlName.phone.errors?.['required']">
                      Mobile Number is required.
                    </div>
                    <div *ngIf="controlName.phone.errors?.['minlength']">
                      Mobile Number must be 10 digit long.
                    </div>
                    <div *ngIf="controlName.phone.errors?.['pattern']">
                      Enter valid Mobile Number.
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-outline mb-4">
                <label for="inputAddress">Address</label>
                <input type="text" class="form-control col col-12" formControlName="address"
                  [ngClass]="{'is-invalid': controlName.address.errors && (controlName.address.touched || controlName.address.dirty), 'is-valid':controlName.address.valid}"
                  placeholder="Address">
                <div *ngIf="controlName.address.invalid && showError " class="alert alert-danger">

                  <div *ngIf="controlName.address.errors?.['required']">
                    Address is required.
                  </div>


                </div>
              </div>

              <!-- <div class="form-row align-self-center justify-content-center"> -->
                <div class="form-outline mb-4">
                  <label for="inputDate">Date Of Birth</label>
                  <input type="date" class="form-control col col-12" id="inputDate" formControlName="dateOfBirth"
                    (change)="validateDOB($event)" name="dateOfBirth"
                    [ngClass]="{'is-invalid': (controlName.dateOfBirth.errors || validateDateOfbirth) && (controlName.dateOfBirth.touched || controlName.dateOfBirth.dirty ), 'is-valid':controlName.dateOfBirth.valid && !validateDateOfbirth}"
                    placeholder="Date Of Birth">
                  <div *ngIf="controlName.dateOfBirth.invalid && showError " class="alert alert-danger">
                    <div *ngIf="controlName.dateOfBirth.errors?.['required']">
                      Date Of Birth is required.
                    </div>
                  </div>
                  <div *ngIf="validateDateOfbirth" class="alert alert-danger">
                    Age must be between 12 years and 100 years
                  </div>

                </div>
              <!-- </div> -->

              <div class="form-row align-self-center justify-content-center">
                <div class="form-group ">
                  <label for="inputPassword4">Password</label>
                  <!-- <i class="fa fa-eye" aria-hidden="true"></i> -->
                  <div class="d-flex">
                    <input [type]="visible?'password':'text'" class="form-control col col-12" id="inputPassword4"
                      formControlName="password"
                      [ngClass]="{'is-invalid': controlName.password.errors && (controlName.password.touched || controlName.password.dirty), 'is-valid':controlName.password.valid}"
                      placeholder="Password">
                    <span class="eyeicon col align-self-center justify-content-center col-1"><i
                        [ngClass]="visible?'fa fa-eye':'fa fa-eye-slash'" (click)="viewPassword()"></i>
                    </span>
                  </div>
                  <div *ngIf="controlName.password.invalid && showError " class="alert alert-danger">
                    <div *ngIf="controlName.password.errors?.['required']">
                      Password is required.
                    </div>
                    <div *ngIf="controlName.password.errors?.['pattern']">
                      Password must be at least eight characters, at least one uppercase letter, one lowercase letter,
                      one number and one special character:
                    </div>
                    <!-- <div *ngIf="controlName.password.errors?.['minlength']">
                      Password must be at least 8 characters long.
                    </div> -->
                  </div>
                </div>
              </div>

              <div class="form-row align-self-center justify-content-center">

                <button class="btn btn-primary " type="submit">Submit form</button>
              </div>
              <div class=" form-row align-self-center justify-content-center">
                <p>Already have Account? <a (click)="onClick()" class="nav-link">Sign-In</a></p>
              </div>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>